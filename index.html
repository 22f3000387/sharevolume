<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading Entity Data...</title><script src="https://cdn.tailwindcss.com"></script><style>body { font-family: 'Inter', sans-serif; }.loading-spinner {border: 4px solid rgba(0, 0, 0, 0.1);border-left-color: #3B82F6;border-radius: 50%;width: 36px;height: 36px;animation: spin 1s linear infinite;}@keyframes spin {to { transform: rotate(360deg); }}</style></head><body class="bg-gray-100 min-h-screen flex items-center justify-center p-4"><div class="bg-white p-8 rounded-lg shadow-xl max-w-2xl w-full"><div id="loading-state" class="flex flex-col items-center justify-center p-10"><div class="loading-spinner mb-4"></div><p class="text-gray-600 text-lg">Fetching data, please wait...</p></div><div id="content-state" class="hidden"><h1 class="text-3xl font-bold text-gray-800 mb-6 text-center" id="page-title-h1">Shares Outstanding</h1><div class="mb-6"><p class="text-xl text-gray-700 font-semibold">Entity Name: <span id="share-entity-name" class="text-blue-600"></span></p></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 shadow-md"><h2 class="text-2xl font-semibold text-blue-700 mb-3">Maximum Shares Outstanding</h2><p class="text-gray-800 text-lg mb-2">Value: <span id="share-max-value" class="font-bold text-xl"></span></p><p class="text-gray-600">Fiscal Year: <span id="share-max-fy" class="font-medium"></span></p></div><div class="bg-green-50 border-l-4 border-green-500 rounded-lg p-6 shadow-md"><h2 class="text-2xl font-semibold text-green-700 mb-3">Minimum Shares Outstanding</h2><p class="text-gray-800 text-lg mb-2">Value: <span id="share-min-value" class="font-bold text-xl"></span></p><p class="text-gray-600">Fiscal Year: <span id="share-min-fy" class="font-medium"></span></p></div></div><div id="error-state" class="hidden bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-6" role="alert"><p class="font-bold">Error</p><p id="error-message"></p></div></div></div><script>const DEFAULT_CIK = '0000820313';const SEC_API_BASE_URL = 'https://data.sec.gov/api/xbrl/companyconcept/CIK<CIK_PLACEHOLDER>/dei/EntityCommonStockSharesOutstanding.json';const PROXY_URL = 'https://api.allorigins.win/get?url=';const loadingState = document.getElementById('loading-state');const contentState = document.getElementById('content-state');const errorState = document.getElementById('error-state');const errorMessageElem = document.getElementById('error-message');const shareEntityName = document.getElementById('share-entity-name');const shareMaxValue = document.getElementById('share-max-value');const shareMaxFy = document.getElementById('share-max-fy');const shareMinValue = document.getElementById('share-min-value');const shareMinFy = document.getElementById('share-min-fy');const pageTitle = document.querySelector('title');const pageTitleH1 = document.getElementById('page-title-h1');function formatNumber(num) {return new Intl.NumberFormat('en-US').format(num);}async function fetchDataAndRender(cik) {loadingState.classList.remove('hidden');contentState.classList.add('hidden');errorState.classList.add('hidden');try {const secApiUrl = SEC_API_BASE_URL.replace('<CIK_PLACEHOLDER>', cik);const response = await fetch(`${PROXY_URL}${encodeURIComponent(secApiUrl)}`);if (!response.ok) {throw new Error(`HTTP error! Status: ${response.status}`);}const proxyData = await response.json();const data = JSON.parse(proxyData.contents);if (data.error) {throw new Error(data.error.message || 'SEC API error');}const entityName = data.entityName;const shares = data.units.shares;if (!entityName || !shares || shares.length === 0) {throw new Error('Required data (entityName or shares) not found.');}const filteredShares = shares.filter(s => parseInt(s.fy) > 2020 && typeof s.val === 'number');if (filteredShares.length === 0) {throw new Error('No shares data found after filtering for fy > 2020.');}let maxShare = null;let minShare = null;for (const share of filteredShares) {if (maxShare === null || share.val > maxShare.val) {maxShare = share;}if (minShare === null || share.val < minShare.val) {minShare = share;}}if (!maxShare || !minShare) {throw new Error('Could not determine max/min shares.');}pageTitle.textContent = `${entityName} Shares Data`;pageTitleH1.textContent = `${entityName} Shares Outstanding`;shareEntityName.textContent = entityName;shareMaxValue.textContent = formatNumber(maxShare.val);shareMaxFy.textContent = maxShare.fy;shareMinValue.textContent = formatNumber(minShare.val);shareMinFy.textContent = minShare.fy;contentState.classList.remove('hidden');} catch (error) {console.error("Failed to fetch or process data:", error);errorMessageElem.textContent = `Error: ${error.message}. Please check the CIK or try again later.`;errorState.classList.remove('hidden');} finally {loadingState.classList.add('hidden');}}document.addEventListener('DOMContentLoaded', () => {const urlParams = new URLSearchParams(window.location.search);const cikParam = urlParams.get('CIK');const targetCik = cikParam || DEFAULT_CIK;fetchDataAndRender(targetCik);});</script></body></html>